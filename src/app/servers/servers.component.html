
<div class="row">
    <p style="font-size: 1rem;">Last Update : {{serverService.lastStatusUpdate}}</p>
    <!-- <textarea pInputTextarea>{{serverService.lastStatusUpdate}}</textarea> -->
</div>
<div class="row">
    <div class="card">
        <!-- <p-table [columns]="cols" [value]="hosts" (sortFunction)="customSort($event)" [customSort]="true" selectionMode="single" [(selection)]="selectedServer" (onRowSelect)="onRowSelect($event)" [tableStyle]="{'min-width': '50rem'}"> -->
        <p-table [columns]="cols" [value]="serverService.status" (sortFunction)="customSort($event)" [customSort]="true" selectionMode="single" [(selection)]="selectedServer" (onRowSelect)="onRowSelect($event)" [tableStyle]="{'min-width': '50rem'}">
                <ng-template pTemplate="header" >
                <tr>
                    
                    <th pSortableColumn="type">type<p-sortIcon field="type"></p-sortIcon></th>
                    <th pSortableColumn="icon">icon<p-sortIcon field="icon"></p-sortIcon></th>
                    <th pSortableColumn="hostname">Host Name<p-sortIcon field="hostname"></p-sortIcon></th>
                    <th pSortableColumn="uptime">Up Time (Hrs)<p-sortIcon field="uptime"></p-sortIcon></th>
                    <th pSortableColumn="lastUpdate">Last Update<p-sortIcon field="lastUpdate"></p-sortIcon></th>
                    <th pSortableColumn="epoch">Epoch<p-sortIcon field="epoch"></p-sortIcon></th>
                        
                </tr>
            </ng-template>
            <!-- <ng-template pTemplate="body" let-host let-columns="columns">
                <tr [pSelectableRow]="servers[host]">

                    <td>{{servers[host].type}}</td>
                    <td><i class="{{servers[host].icon}}" style="font-size: 1rem; color:{{servers[host].status}}"></i></td>
                    <td>{{servers[host].hostname}}</td>
                    <td>{{servers[host].uptime}}</td>
                    <td>{{servers[host].lastUpdate}}</td>
                    <td>{{servers[host].epoch}}</td>

                </tr> 
            </ng-template>-->
            <ng-template pTemplate="body" let-host let-columns="columns">
                <tr [pSelectableRow]="host">

                    <td>{{host.type}}</td>
                    <td><i class="{{host.icon}}" style="font-size: 1rem; color:{{host.status}}"></i></td>
                    <td>{{host.hostname}}</td>
                    <td>{{host.uptime}}</td>
                    <td>{{host.lastUpdate}}</td>
                    <td>{{host.epoch}}</td>

                </tr>
            </ng-template>
        </p-table>
    </div>
</div>
<div class="row">
    <button  class="p-button-sm" pButton type="button" (click)="getStatus()">
    Fetch Status
    </button>

    <button  class="p-button-sm p-button-warning" pButton type="button" (click)="deleteStatus()">
    Delete Status
    </button>

    <button  class="p-button-sm" pButton type="button" (click)="set100Hosts()">
    Set 100 hosts
    </button>

    <button  class="p-button-sm" pButton type="button" (click)="setTestStatus()">
    Test Status
    </button>

    <button  class="p-button-sm" pButton type="button" (click)="setHostStatus('ubuntu-node01')">
    Set hosts Green
    </button>
</div>